(function(a){if(typeof define==="function"&&define.amd){define(["jquery","./jquery.fileupload-ui"],a)}else{a(window.jQuery)}}(function(a){a.widget("blueimp.fileupload",a.blueimp.fileupload,{options:{progress:function(c,b){if(b.context){b.context.find(".progress").progressbar("option","value",parseInt(b.loaded/b.total*100,10))}},progressall:function(d,b){var c=a(this);c.find(".fileupload-progress").find(".progress").progressbar("option","value",parseInt(b.loaded/b.total*100,10)).end().find(".progress-extended").each(function(){a(this).html((c.data("blueimp-fileupload")||c.data("fileupload"))._renderExtendedProgress(b))})}},_renderUpload:function(e,d){var c=this._super(e,d),b=a(window).width()>480;c.find(".progress").empty().progressbar();c.find(".start").button({icons:{primary:"ui-icon-circle-arrow-e"},text:b});c.find(".cancel").button({icons:{primary:"ui-icon-cancel"},text:b});if(c.hasClass("fade")){c.hide()}return c},_renderDownload:function(e,d){var c=this._super(e,d),b=a(window).width()>480;c.find(".delete").button({icons:{primary:"ui-icon-trash"},text:b});if(c.hasClass("fade")){c.hide()}return c},_transition:function(c){var b=a.Deferred();if(c.hasClass("fade")){c.fadeToggle(this.options.transitionDuration,this.options.transitionEasing,function(){b.resolveWith(c)})}else{b.resolveWith(c)}return b},_create:function(){this._super();this.element.find(".fileupload-buttonbar").find(".fileinput-button").each(function(){var b=a(this).find("input:file").detach();a(this).button({icons:{primary:"ui-icon-plusthick"}}).append(b)}).end().find(".start").button({icons:{primary:"ui-icon-circle-arrow-e"}}).end().find(".cancel").button({icons:{primary:"ui-icon-cancel"}}).end().find(".delete").button({icons:{primary:"ui-icon-trash"}}).end().find(".progress").progressbar()},_destroy:function(){this.element.find(".fileupload-buttonbar").find(".fileinput-button").each(function(){var b=a(this).find("input:file").detach();a(this).button("destroy").append(b)}).end().find(".start").button("destroy").end().find(".cancel").button("destroy").end().find(".delete").button("destroy").end().find(".progress").progressbar("destroy");this._super()}})}));